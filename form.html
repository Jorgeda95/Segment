<!DOCTYPE html>
<html>
<head>
    <title>Prueba Segment<span id="selection-marker-1" class="redactor-selection-marker"></span></title>
    <script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","screen","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware","register"];analytics.factory=function(e){return function(){if(window.analytics.initialized)return window.analytics[e].apply(window.analytics,arguments);var i=Array.prototype.slice.call(arguments);if(["track","screen","alias","group","page","identify"].indexOf(e)>-1){var c=document.querySelector("link[rel='canonical']");i.push({__t:"bpc",c:c&&c.getAttribute("href")||void 0,p:location.pathname,u:location.href,s:location.search,t:document.title,r:document.referrer})}i.unshift(e);analytics.push(i);return analytics}};for(var i=0;i<analytics.methods.length;i++){var key=analytics.methods[i];analytics[key]=analytics.factory(key)}analytics.load=function(key,i){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=i};analytics._writeKey="SG46KxtqR1eNZDnVHACJFwk3atu9Fl0x";;analytics.SNIPPET_VERSION="5.2.0";
  analytics.load("SG46KxtqR1eNZDnVHACJFwk3atu9Fl0x");
  analytics.page();
  }}();
</script>
</head>
<body>
    <h1>Prueba Segment</h1>
    <p>Demo -- Form Submission</p>
    <form name="form" onsubmit="identify(event)">
        <br><br><br> 
        <br><br> Name: <input name="fullname" size="75" type="text" />
        <br><br> Age: <input name="age" size="75" type="text" />
        <br><br> Gender: <input name="gender" size="75" type="text" />
        <br><br> Email: <input name="email" size="75" type="email" />
        <br><br> Job Title: <input name="title" size="75" type="text" />
        <br><br> Company ID: <input name="comp_id" size="75" type="number" />
        <br><br> Company Name: <input name="comp_name" size="75" type="text" />
        <br><br> Phone: <input name="phone" size="75" type="text" />
        <br><br> State: <input name="state" size="75" type="text" />
        <br><br> Rating: <input name="rating" size="75" type="text" />
        <br><br> Home City: <input name="home_city" size="75" type="text" />
        <br><br> Home State: <input name="home_state" size="75" type="text" />
        <br><br> Home Country: <input name="home_country" size="75" type="text" />
        <br><br> Home Zip: <input name="home_zip" size="75" type="text" />
        <br><br> Home Street: <input name="home_street" size="75" type="text" />
        <br><br>Any other relevant info about your company?
        <br><br>
        <textarea cols="81" name="details" rows="10">
    </textarea>
        <input type="submit" value="Submit">
<!--       <br><br<br><input name="submit" type="submit" value="submit" /> -->
    </form>
    <script type="text/javascript">
        function identify(e) {
            e.preventDefault();
            var form = e.target;
            var email = form["email"].value;
            var title = form["title"].value;
            var age = form["age"].value;
            var gender = form["gender"].value;
            var comp_id = form["comp_id"].value;
            var comp_name = form["comp_name"].value;
            var fullname = form["fullname"].value;
            var phone = form["phone"].value;
            var state = form["state"].value;
            var rating = form["rating"].value
            var details = form["details"].value;
            var home_city = form["home_city"].value;
            var home_zip = form["home_zip"].value;
            var home_country = form["home_country"].value;
            var home_street = form["home_street"].value;
            var home_state = form["home_state"].value;
            var rn = Math.floor((Math.random() * 1000000) + 1);
            
            /* analytics.identify(12345, { */
            analytics.identify(userId, {
                email: email,
                title: title,
                age: age,
                gender: gender,
                leadSource: 'Newsletter',
                is_first_session: 'true',
                clicked_random_link: 'true',
                viewed_product: 'true',
                company: {
                    id: comp_id,
                    name: comp_name
                },
                name: fullname,
                category: 'Marketing',
                phone: phone,
                state: state,
                rating: rating,
                address: {
                    city: home_city,
                    postalCode: home_zip,
                    country: home_country,
                    street: home_street,
                    state: home_state
                }
            }, {
                'integrations': {
                    'Salesforce': true
                }
            });

            analytics.track('Form Submitted', {
                type: "Lead Generation",
            });

        }
    </script>
</body>

</html>
